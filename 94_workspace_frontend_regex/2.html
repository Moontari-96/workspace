<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>íšŒì› ì •ë³´ í˜ì´ì§€</title>
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f0f0f0;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }

    .container {
      background-color: #fff;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      width: 300px;
      text-align: center;
    }

    h1 {
      margin-bottom: 20px;
    }

    .info-box {
      text-align: left;
    }

    .info-item {
      margin-bottom: 10px;
    }

    .info-item label {
      font-weight: bold;
      display: inline-block;
      width: 80px;
    }

    .info-item span {
      display: inline-block;
    }

    .btn_box.on {
      display: flex;
      justify-content: center;
    }

    .btn_box {
      display: none;
    }

    .btn_box button {
      padding: 5px;
      margin: 5px;
    }
  </style>
</head>

<body>
  <div class="container">
    <h1>íšŒì› ì •ë³´</h1>
    <div class="info-box">
      <div class="info-item">
        <label for="userID">ì•„ì´ë””:</label>
        <span id="userID">user123</span>
      </div>
      <div class="info-item">
        <label for="userName">ì´ë¦„:</label>
        <span id="userName">í™ê¸¸ë™</span>
      </div>
      <div class="info-item">
        <label for="userEmail">ì´ë©”ì¼:</label>
        <span id="userEmail">hong@example.com</span>
      </div>
      <div class="info-item">
        <label for="userPhone">ì „í™”ë²ˆí˜¸:</label>
        <span id="userPhone">010-1234-5678</span>
      </div>
      <div class="info-item">
        <label for="userAddress">ì£¼ì†Œ:</label>
        <span id="userAddress">ì„œìš¸ì‹œ ê°•ë‚¨êµ¬</span>
      </div>
      <div class="info-item">
        <label for="userJoindate">ê°€ì…ì¼:</label>
        <span id="userJoindate">2023-01-01</span>
      </div>
      <div class="btn_cont">
        <div class="btn_box on">
          <button id="modifyBtn">ìˆ˜ì •í•˜ê¸°</button>
          <button id="homeBtn">í™ˆìœ¼ë¡œ</button>
        </div>
        <div class="btn_box">
          <button id="finishBtn">ì™„ë£Œ</button>
          <button id="cancleBtn">ì·¨ì†Œ</button>
        </div>
      </div>
    </div>
  </div>
  <script>

    $("#modifyBtn").on("click", function () {
      $(this).closest(".btn_box").removeClass("on");
      $(this).closest(".btn_box").siblings().addClass("on");
      $(this).closest(".info-box").addClass("on");
      console.log(this.closest(".btn_box"));
      if ($(".info-box").hasClass("on")) {
        $("span").attr("contenteditable", "true");
        $("#userID").attr("contenteditable", "false");
        $("#userJoindate").attr("contenteditable", "false");
      }
    })
    $("#finishBtn").on("click", function () {
      $(this).closest(".btn_box").removeClass("on");
      $(this).closest(".btn_box").siblings().addClass("on");
      $(this).closest(".info-box").removeClass("on");
      if (!$(".info-box").hasClass("on")) {
        $("span").attr("contenteditable", "false");
      }
    })
    // ê³µìš© ìœ íš¨ì„± í…ìŠ¤íŠ¸ ë°°ì—´
    let val = document.getElementsByClassName('val');

    // name ì²´í¬ ë³€ìˆ˜
    let name = document.getElementById('userName');
    let nameRegex = /^[ê°€-í£]{2,5}$/;

    // phone ì²´í¬ ë³€ìˆ˜
    let phone = document.getElementById('userPhone');
    let phoneRegex = /^01[\d]-?\d{4}-?\d{4}$/;

    // email ì²´í¬ ë³€ìˆ˜
    let eamil = document.getElementById('userEmail');
    let emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

    // adress ë³€ìˆ˜
    let post = document.getElementById('userZipcode');
    let post_btn = document.getElementById('post_btn');
    let address1 = document.getElementById('userAddress1');

    // ì´ë¦„ ì²´í¬ í•¨ìˆ˜
    name.addEventListener('keyup', function () {
      let result = nameRegex.test(name.value);
      if (result) {
        val[2].innerHTML = '<span>ì´ë¦„ êµ³ğŸ‘</span>';
        val[2].children[0].setAttribute('style', 'color:dodgerblue');
      } else {
        val[2].innerHTML = '<span>ì´ë¦„ì„ í™•ì¸í•´ì£¼ì„¸ìš”.</span>';
        val[2].children[0].setAttribute('style', 'color:red');
      }
    })

    // ì „í™”ë²ˆí˜¸ ì²´í¬ í•¨ìˆ˜
    phone.addEventListener('keyup', function () {
      let result = phoneRegex.test(phone.value);
      console.log(result);
      if (result) {
        val[3].innerHTML = '<span>ì „í™”ë²ˆí˜¸ì™€ ì–‘ì‹ì´ ì¼ì¹˜í•©ë‹ˆë‹¤.</span>';
        val[3].children[0].setAttribute('style', 'color:dodgerblue');
      } else {
        val[3].innerHTML = '<span>ì „í™”ë²ˆí˜¸ë¥¼ í™•ì¸í•´ì£¼ì„¸ìš”.</span>';
        val[3].children[0].setAttribute('style', 'color:red');
      }
    })
    // ì´ë©”ì¼ ì²´í¬ í•¨ìˆ˜
    email.addEventListener('keyup', function () {
      let result = emailRegex.test(email.value);
      if (result) {
        val[4].innerHTML = '<span>ì´ë©”ì¼ê³¼ ì–‘ì‹ì´ ì¼ì¹˜í•©ë‹ˆë‹¤.</span>';
        val[4].children[0].setAttribute('style', 'color:dodgerblue');
      } else {
        val[4].innerHTML = '<span>ì´ë©”ì¼ì„ í™•ì¸í•´ì£¼ì„¸ìš”.</span>';
        val[4].children[0].setAttribute('style', 'color:red');
      }
    })

    // ìš°í¸ë²ˆí˜¸ ì°¾ê¸°
    function postSearchBtn() {
      new daum.Postcode({
        oncomplete: function (data) {
          let postcode = data.zonecode; // ìš°í¸ë²ˆí˜¸
          let roadAddress = data.roadAddress; // ë„ë¡œëª…ì£¼ì†Œ
          post.value = postcode;
          address1.value = roadAddress;
        }
      }).open();
    }

    document.getElementById('backIndex').addEventListener('click', function () {
      location.href = "/index.jsp";
    })
    $("#id_chk").on("click", function () {
      if ($("#id").val() == "") {
        alert("IDë¥¼ ë¨¼ì € ì…ë ¥í•´ì£¼ì„¸ìš”.")
        return;
      }
      window.open("/idcheck.mem?id=" + $("#id").val(), "", "width=300,height=200");
    })
    console.log(didIdCheck);
    // ì„œë¸Œë°‹ ìœ íš¨ì„± ê²€ì‚¬
    joinform.addEventListener('submit', function (e) {
      if (!idRegex.test(id.value)) {
        // id ìœ íš¨ì„±
        alert('IDë¥¼ ë¨¼ì € ì…ë ¥í•´ì£¼ì„¸ìš”.')
        e.preventDefault(); // e.preventDefault
      } else if (!pwRegex.test(pw.value)) {
        // pw ìœ íš¨ì„±
        alert('PWë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.')
        e.preventDefault(); // e.preventDefault
      } else if (!pwRegex.test(pwchk.value)) {
        // pwchk ìœ íš¨ì„±
        alert('íŒ¨ìŠ¤ì›Œë“œ ì¬ì…ë ¥ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.')
        e.preventDefault(); // e.preventDefault
      } else if (!nameRegex.test(name.value)) {
        // name ìœ íš¨ì„±
        alert('ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.')
        e.preventDefault(); // e.preventDefault
      } else if (didIdCheck == false) {
        alert('ID ì¤‘ë³µì„± ì²´í¬ì„ í•´ì£¼ì„¸ìš”')
        e.preventDefault(); // e.preventDefault
      }
    })
    function postSearchBtn() {
      new daum.Postcode({
        oncomplete: function (data) {
          let postcode = data.zonecode; // ìš°í¸ë²ˆí˜¸
          let roadAddress = data.roadAddress; // ë„ë¡œëª…ì£¼ì†Œ
          let post_innertxt = post.value = postcode;
          let address1_innertxt = address1.value = roadAddress;
          post_txt.innerHTML = post_innertxt;
          address1_txt.innerHTML = address1_innertxt;
        }
      }).open();
    }
  </script>
</body>

</html>